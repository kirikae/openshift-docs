// Module included in the following assemblies:
// about/ossm-about-concepts.adoc

:_mod-docs-content-type: CONCEPT
[id="ossm-about-concepts-kiali_{context}"]
= {SMProductName} and Kiali

//Kiali attributes are in the works, and possible {KialiProduct} will refer to Kiali provided by Red Hat, and not Kiali Operator provided by Red Hat.
//Kiali attributes are outside the scope of this PR.
//TP1 content. IA influx, likely everything will change for GA.

Kiali is based on the open source Kiali project. See link:https://kiali.io/[Kiali project]. Kiali provided by Red{nbsp}Hat is composed of three parts:

* {KialiProduct}
* Kiali Server
* {SMPlugin}

Working together, they form the user interface (UI) for {SMProduct}. Kiali provides visibility into your service mesh by showing you the microservices and how they are connected.

Kiali helps you define, validate, and observe your Istio service mesh. It helps you to understand the structure of your service mesh by inferring the topology, and also provides information about the health of your service mesh.

Kiali provides an interactive graph view of your mesh namespaces in near real time that provides visibility into features like circuit breakers, request rates, latency, and even graphs of traffic flows. Kiali offers insights about components at different levels, such as applications, services, workloads, and can display the interactions with contextual information and charts on the selected graph node or edge.

Kiali also provides the ability to validate your Istio configurations, such as gateways, destination rules, virtual services, mesh policies, and so on. Kiali provides detailed metrics, and a basic Grafana integration is available for advanced queries. Distributed tracing is provided by integrating {TempoName} and {OTELName} into the Kiali console.

[id="kiali-architecture_{context}"]
== Kiali architecture

Kiali Server (back end):: This component runs in the container application platform and communicates with the service mesh components, retrieves and processes data, and exposes this data to the console. The Kiali Server does not need storage. When deploying the Server to a cluster, configurations are set in config maps and secrets.

Kiali console (front end):: The Kiali console is a web application. The console queries the Kiali Server for data to present it to the user.

In addition, Kiali depends on external services and components provided by the container application platform and Istio.

Red Hat Service Mesh (Istio):: Istio is a Kiali requirement. Istio is the component that provides and controls the service mesh. Although Kiali and Istio can be installed separately, Kiali depends on Istio and will not work if it is not present. Kiali needs to retrieve Istio data and configurations, which are exposed through Prometheus and the {product-title} cluster API.

Prometheus:: A dedicated Prometheus instance is optional. When Istio telemetry is enabled, metrics data are stored in Prometheus. Kiali uses this Prometheus data to determine the mesh topology, display metrics, calculate health, show possible problems, and so on. Kiali communicates directly with Prometheus and assumes the data schema used by Istio Telemetry. Prometheus is an Istio dependency and a hard dependency for Kiali, and many of Kiali's features will not work without Prometheus.

{ocp-product-title} API:: Kiali uses the {ocp-product-title} API to fetch and resolve service mesh configurations. For example, Kiali queries the cluster API to retrieve definitions for namespaces, services, deployments, pods, and other entities. Kiali also makes queries to resolve relationships between the different cluster entities. The cluster API is also queried to retrieve Istio configurations like virtual services, destination rules, route rules, gateways, quotas, and so on.

Tracing:: Tracing is optional, but when you install {DTProductName} and Kiali is configured, the Kiali console includes a tab to display distributed tracing data, and tracing integration on the graph itself. Note that tracing data will not be available if you disable Istioâ€™s distributed tracing feature. Also note that the user must have access to the namespace where the user needs to see tracing data.

Grafana:: Grafana is optional. When available, the metrics pages of Kiali display links to direct the user to the same metric in Grafana. Note that Grafana is not supported as part of {ocp-product-title} or {SMProduct}.

[id="kiali-features_{context}"]
== Kiali features

The Kiali console is integrated with {SMProduct} and provides the following capabilities:

Health:: Quickly identify issues with applications, services, or workloads.

Topology:: Visualize how your applications, services, or workloads communicate through the Kiali graph.

Metrics::  Predefined metrics dashboards let you chart service mesh and application performance for Go, Node.js. Quarkus, Spring Boot, Thorntail and Vert.x. You can also create your own custom dashboards.

Tracing:: Integration with {TempoName} lets you follow the path of a request through various microservices that make up an application.

Validations:: Perform advanced validations on the most common Istio objects (Destination Rules, Service Entries, Virtual Services, and so on).

Configuration:: Optional ability to create, update, and delete Istio routing configuration using wizards or directly in the YAML editor in the Kiali Console.

[id="openshift-service-mesh-console-plugin_{context}"]
== {SMPlugin}

The {SMPlugin} is an {ocp-product-title} plugin for {SMProductName}. It integrates much of the {KialiProduct} interface into the OpenShift Console, injecting both a *Service Mesh* main menu option with dedicated screens, as well as integrating *Service Mesh* tabs throughout console.

The {SMPluginShort} is installed using {KialiProduct}, and requires the Kiali Server component. {SMPluginShort} has its own Custom Resource (CR) configuration.

//[role=_additional-resources]
//== Additional resources
//Return here to add xref to OSSMC plugin content when that content has been published.